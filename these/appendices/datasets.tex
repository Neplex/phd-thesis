\minitoc

\section{Movie}

\subsection{Description}

\begin{figure}[H]
    \caption{Schéma d'origine de la base \textit{Movie}}
\end{figure}

\begin{figure}[H]
    \caption{Extrait de la base \textit{Movie} avec le modèle définit section~\ref{sec:update:db}}
\end{figure}

\subsection{Prédicats et contraintes}

\begin{table}[H]
    \centering
    \begin{adjustbox}{width=\linewidth}
        \begin{tabular}{l|c|l|l}
            Prédicat & Arité & Termes & Description \\
            \hline
            \hline
            $Movie$ & 4 & $id, year, title, subtitle$ & La description d'un film \\
            $Person$ & 3 & $id, birthYear, name$ & La description d'une personne \\
            $ACTEDIN$ & 3 & $actorId, movieId, role$ & Relie un acteur à un rôle dans un film \\
            $DIRECTED$ & 2 & $directorId, movieId$ & Relie un réalisateur à un film \\
            $PRODUCED$ & 2 & $producerId, movieId$ & Relie un producteur à un film \\
            $WROTE$ & 2 & $authorId, movieId$ & Relie un scénariste à un film \\
            $REVIEWED$ & 4 & $reviewerId, movieId, score, review$ & Une critique sur un film, rattaché à l'auteur \\
            $FOLLOWS$ & 2 & $followerId, personId$ & Décrit une relation de suivi entre les personnes \\
        \end{tabular}
    \end{adjustbox}
    \caption{Description de la base \textit{Movie}}
\end{table}

\begin{figure}[H]
    \centering
    \small
    \begin{align*}
        Movie(movieId, year, title, subtitle) &\to ACTEDIN(actorId, movieId, role) \\
        Movie(movieId, year, title, subtitle) &\to DIRECTED(directorId, movieId) \\
        Movie(movieId, year, title, subtitle) &\to PRODUCED(producerId, movieId) \\
        Movie(movieId, year, title, subtitle) &\to REVIEWED(reviewerId, movieId, score, review) \\
        Movie(movieId, year, title, subtitle) &\to WROTE(authorId, movieId) \\
        ACTEDIN(actorId, movieId, role) &\to Person(actorId, birthYear, name) \\
        ACTEDIN(actorId, movieId, role) &\to Movie(movieId, year, title, subtitle) \\
        DIRECTED(directorId, movieId) &\to Person(directorId, birthYear, name) \\
        DIRECTED(directorId, movieId) &\to Movie(movieId, year, title, subtitle) \\
        PRODUCED(producerId, movieId) &\to Person(producerId, birthYear, name) \\
        PRODUCED(producerId, movieId) &\to Movie(movieId, year, title, subtitle) \\
        WROTE(authorId, movieId) &\to Person(authorId, birthYear, name) \\
        WROTE(authorId, movieId) &\to Movie(movieId, year, title, subtitle) \\
        REVIEWED(reviewerId, movieId, score, review) &\to Person(reviewerId, birthYear, name) \\
        REVIEWED(reviewerId, movieId, score, review) &\to Movie(movieId, year, title, subtitle) \\
        FOLLOWS(followerId, personId) &\to Person(followerId, birthYear, name) \\
        FOLLOWS(followerId, personId) &\to Person(personId, birthYear, name)
    \end{align*}
    \caption{Liste des contraintes de la base \textit{Movie}}
\end{figure}

\section{GameOfThrone}

\subsection{Description}

\begin{figure}[H]
    \caption{Schéma d'origine de la base \index{GOT}}
\end{figure}

\begin{figure}[H]
    \caption{Extrait de la base \index{GOT} avec le modèle définit section~\ref{sec:update:db}}
\end{figure}

\subsection{Prédicats et contraintes}

\begin{table}[H]
    \centering
    \begin{adjustbox}{width=\linewidth}
        \begin{tabular}{l|c|l|l}
            Prédicat & Arité & Termes & Description \\
            \hline
            \hline
        \end{tabular}
    \end{adjustbox}
    \caption{Description de la base \textit{GOT}}
\end{table}

\begin{figure}[H]
    \centering
    \small
    \begin{align*}
        APPEARED_IN(personId, bookId) &\to Person(personId, age, birthYear, deathChapter, introChapter, community, deathYear, gender, name, title) \\
        APPEARED_IN(personId, bookId) &\to Book(bookId, name, bookNumber) \\
        BELONGS_TO(personId, houseId) &\to Person(personId, age, birthYear, deathChapter, introChapter, community, deathYear, gender, name, title) \\
        BELONGS_TO(personId, houseId) &\to House(houseId, name) \\
        DEFENDER(houseId, bookId, outcome) &\to House(houseId, name) \\
        DEFENDER(houseId, bookId, outcome) &\to Battle(bookId, attackerSize, battleType, defenderSize, majorCapture, majorDeath, name, note, summer, year) \\
        DIED_IN(personId, bookId) &\to Person(personId, age, birthYear, deathChapter, introChapter, community, deathYear, gender, name, title) &\to Book(bookId, bookName, bookNumber) \\
        DIED_IN(personId, bookId) &\to Book(bookId, name, bookNumber) \\
        HAS_STATUS(personId, statusId) &\to Person(personId, age, birthYear, deathChapter, introChapter, community, deathYear, gender, name, title) \\
        HAS_STATUS(personId, statusId) &\to Status(statusId, name) \\
        INTERACTS(personId, otherId, bookId, weight) &\to Person(personId, age, birthYear, deathChapter, introChapter, community, deathYear, gender, name, title) \\
        INTERACTS(personId, otherId, bookId, weight) &\to Person(otherId, age, birthYear, deathChapter, introChapter, community, deathYear, gender, name, title) \\
        INTERACTS(personId, otherId, bookId, weight) &\to Book(bookId, name, bookNumber) \\
        MEMBER_OF_CULTURE(personId, cultureId) &\to Person(otherId, age, birthYear, deathChapter, introChapter, community, deathYear, gender, name, title) \\
        MEMBER_OF_CULTURE(personId, cultureId) &\to Culture(cultureId, name) \\
        RELATED_TO(personId, otherId, relationName) &\to Person(personId, age, birthYear, deathChapter, introChapter, community, deathYear, gender, name, title) \\
        RELATED_TO(personId, otherId, relationName) &\to Person(otherId, age, birthYear, deathChapter, introChapter, community, deathYear, gender, name, title) \\
        Battle(bookId, attackerSize, battleType, defenderSize, majorCapture, majorDeath, name, note, summer, year) &\to DEFENDER(houseId, bookId, outcome) \\
        Battle(bookId, attackerSize, battleType, defenderSize, majorCapture, majorDeath, name, note, summer, year) &\to IS_IN(bookId, locationId) \\
        Culture(cultureId, name) &\to MEMBER_OF_CULTURE(personId, cultureId) \\
        House(houseId, name) &\to BELONGS_TO(personId, houseId) \\
        Person(personId, age, birthYear, deathChapter, introChapter, community, deathYear, gender, name, title) &\to APPEARED_IN(personId, bookId) \\
        Person(personId, age, birthYear, deathChapter, introChapter, community, deathYear, gender, name, title) &\to BELONGS_TO(personId, houseId) \\
        Person(personId, age, birthYear, deathChapter, introChapter, community, deathYear, gender, name, title) &\to HAS_STATUS(personId, statusId) \\
        Person(personId, age, birthYear, deathChapter, introChapter, community, deathYear, gender, name, title) &\to MEMBER_OF_CULTURE(personId, cultureId) \\
        Person(personId, age, birthYear, deathChapter, introChapter, community, deathYear, gender, name, title) &\to Region(personId, regionName)
    \end{align*}
    \caption{Liste des contraintes de la base \textit{GOT}}
\end{figure}

\section{Social}

\subsection{Description}

\textit{Social} est un graphe généré artificiellement par \gls{ldbc} pour l'évaluation d'algorithmes sur les graphes.
Ce graphe représente un réseau social avec des collections de postes, des commentaires, etc.

\begin{figure}[H]
    \centering
    \begin{adjustbox}{width=\linewidth}
        \begin{tikzpicture}[->,>=stealth',shorten >=1pt,auto,block/.style={rectangle,align=center},node distance=2.5cm]
            \node[draw] (forum) {Forum};
            \node[draw, right = of forum] (person) {Person};
            \node[draw, below = of person] (post) {Post};
            \node[draw, right = of post] (comment) {Comment};
            \node[draw, above = of comment] (place) {Place};
            \node[draw, above = of place] (org) {Org};
            \node[draw, below = of forum] (tag) {Tag};
            \node[draw, below = of tag] (tagclass) {TagClass};

            \path
            (forum) edge node [below] {ContainerOf} (post)
            (forum) edge [bend left=10] node [above] {HasMember} (person)
            (forum) edge [bend right=10] node [below] {HasModerator} (person)
            (forum) edge node [left] {HasTag} (tag)
            (post) edge [bend left=10] node [left,near end] {HasCreator} (person)
            (post) edge [bend right=100,looseness=3,in=300,out=270] node [below left] {IsLocatedIn} (place)
            (post) edge node {HasTag} (tag)
            (comment) edge node [below] {ReplyOf} (post)
            (comment) edge [loop right] node [below left=.5cm] {ReplyOf} (comment)
            (comment) edge [bend right=10] node [above right,near end] {HasCreator} (person)
            (comment) edge node [right] {IsLocatedIn} (place)
            (comment) edge [bend left] node [below] {HasTag} (tag)
            (person) edge [loop above] node {Knows} (person)
            (person) edge [bend right=80,looseness=2.5,in=280] node [above right] {HasInterest} (tag)
            (person) edge [bend left=10] node [above left,near end] {WorkAt} (org)
            (person) edge [bend right=10] node [right] {StudyAt} (org)
            (person) edge [bend left=10] node [right,near end] {Likes} (post)
            (person) edge [bend right=10] node [below,near start] {Likes} (comment)
            (person) edge node [above] {IsLocatedIn} (place)
            (org) edge node [above right] {IsLocatedIn} (place)
            (tag) edge node [left] {HasType} (tagclass)
            (tagclass) edge [loop right] node {IsSubclassOf} (tagclass)
            (place) edge [loop right] node {IsPartOf} (place)
            ;
            \end{tikzpicture}
        \end{adjustbox}
    \caption{Schéma d'origine de la base \textit{Social}}
\end{figure}

\begin{figure}[H]
    \caption{Extrait de la base \textit{Social} avec le modèle définit section~\ref{sec:update:db}}
\end{figure}

\subsection{Prédicats et contraintes}

\begin{table}[H]
    \centering
    \begin{adjustbox}{width=\linewidth}
        \begin{tabular}{l|c|l|l}
            Prédicat & Arité & Termes & Description \\
            \hline
            \hline
            $Forum$ & 1 & $forum$ & Un forum qui contient un ensemble de posts \\
            $Post$ & 1 & $post$ & Un poste dans un forum \\
            $Comment$ & 1 & $comment$ & Un commentaire à un poste \\
            $Tag$ & 1 & $tag$ & Un label apposé sur un poste ou un forum \\
            $TagClass$ & 1 & $class$ & Un type de label \\
            $Person$ & 1 & $person$ & Une personne \\
            $Organisation$ & 1 & $org$ & Une entreprise, un organisme, une université \\
            $Place$ & 1 & $place$ & Un lieu ville/région/pays/continent \\
            $HasCreator$ & 2 & $commentOrPost, person$ & Lie un commentaire ou un poste a son auteur \\
            $ContainerOf$ & 2 & $forum, post$ & Lie un poste au forum dans lequel il est présent \\
            $ReplyOf$ & 2 & $comment, commentOrPost$ & Lie un commentaire au poste/commentaire auquel il répond \\
            $IsLocatedIn$ & 2 & $x, place$ & Donne la localisation d'un objet ou d'une personne \\
            $Knows$ & 2 & $person1, person2$ & Deux personnes se connaissent \\
            $HasInterest$ & 2 & $person, tag$ & Une personne qui est intéressée par un topique \\
            $HasMember$ & 2 & $forul, person$ & Une personne est membre d'un forum \\
            $WorkAt$ & 2 & $person, org$ & L'emploi d'une personne \\
            $StudyAt$ & 2 & $person, org$ & Les études d'une personne \\
            $IsSubclassOf$ & 2 & $subClass, superClass$ & Une relation hiérarchique entre les types de labels \\
            $IsPartOf$ & 2 & $subPlace, place$ & Une relation d'inclusion entre les lieux (Paris est dans la France) \\
            $HasType$ & 2 & $tag, superClass$ & Lie un label a son type \\
        \end{tabular}
    \end{adjustbox}
    \caption{Description de la base \textit{Social}}
\end{table}

\begin{figure}[H]
    \centering
    \small
    \begin{align*}
        Comment(comment) &\to HasCreator(comment, person) \\
        Comment(comment) &\to ReplyOf(comment, commentOrPost) \\
        Comment(comment) &\to IsLocatedIn(comment, place) \\
        ReplyOf(comment, commentOrPost) &\to Comment(comment) \\
        Post(post) &\to ContainerOf(forum, post) \\
        Post(post) &\to HasCreator(post, person) \\
        Post(post) &\to IsLocatedIn(post, place) \\
        ContainerOf(forum, post) &\to Forum(forum) \\
        ContainerOf(forum, post) &\to Post(post) \\
        HasMember(forum, person) &\to Forum(forum) \\
        HasMember(forum, person) &\to Person(person) \\
        HasModerator(forum, person) &\to Forum(forum) \\
        HasModerator(forum, person) &\to Person(person) \\
        HasCreator(commentOrPost, person) &\to Person(person) \\
        HasInterest(person, tag) &\to Person(person) \\
        HasInterest(person, tag) &\to Tag(tag) \\
        Knows(person, other) &\to Person(person) \\
        Knows(person, other) &\to Person(other) \\
        Knows(person, other) &\to Knows(other, person) \\
        Likes(person, commentOrPost) &\to Person(person) \\
        WorkAt(person, org) &\to Person(person) \\
        WorkAt(person, org) &\to Organisation(org) \\
        StudyAt(person, org) &\to Person(person) \\
        StudyAt(person, org) &\to Organisation(org) \\
        Organisation(org) &\to IsLocatedIn(org, place) \\
        TagClass(class) &\to IsSubclassOf(class, 'tagclass:0') \\
        IsSubclassOf(subClass, superClass) &\to TagClass(subClass) \\
        IsSubclassOf(subClass, superClass) &\to TagClass(superClass) \\
        HasTag(something, tag) &\to Tag(tag) \\
        Tag(tag) &\to HasType(tag, 'tagclass:0') \\
        HasType(tag, class) &\to Tag(tag) \\
        HasType(tag, class) &\to TagClass(class) \\
        IsLocatedIn(something, place) &\to Place(place) \\
        Place(place) &\to IsPartOf(place, 'place:0') \\
        IsPartOf(subPlace, place) &\to Place(subPlace) \\
        IsPartOf(subPlace, place) &\to Place(place) \\
        Post(post), HasCreator^-(post, person), ContainerOf(forum, post) &\to HasMember(forum, person) \\
        IsSubclassOf^-(subClass, class), IsSubclassOf(class, superClass) &\to IsSubclassOf(subClass, superClass) \\
        HasType(tag, subClass)^-, IsSubclassOf(subClass, superClass) &\to HasType(tag, superClass)
    \end{align*}
    \caption{Liste des contraintes de la base \textit{Social}}
\end{figure}
